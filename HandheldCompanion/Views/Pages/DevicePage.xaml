<Page
    x:Class="HandheldCompanion.Views.Pages.DevicePage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:colorpicker="clr-namespace:ColorPicker;assembly=ColorPicker"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:emoji="http://schemas.inkore.net/lib/ui/wpf/emojis"
    xmlns:ikw="http://schemas.inkore.net/lib/ui/wpf"
    xmlns:l="clr-namespace:HandheldCompanion.Localization"
    xmlns:lvc="clr-namespace:LiveCharts.Wpf;assembly=LiveCharts.Wpf"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:resx="clr-namespace:HandheldCompanion.Properties"
    xmlns:ui="http://schemas.inkore.net/lib/ui/wpf/modern"
    xmlns:viewmodels="clr-namespace:HandheldCompanion.ViewModels"
    Name="Device"
    Title="{l:Static resx:Resources.DevicePage_Device}"
    d:Background="White"
    d:DesignHeight="2200"
    d:DesignWidth="1000"
    KeepAlive="True"
    Loaded="Page_Loaded"
    mc:Ignorable="d">

    <Grid Name="MainGrid" Margin="20">
        <ikw:SimpleStackPanel Spacing="24">
            <!--  Power options  -->
            <ikw:SimpleStackPanel Name="PowerOptionsStack" Spacing="4">
                <TextBlock Style="{StaticResource BaseTextBlockStyle}" Text="{l:Static resx:Resources.DevicePage_PowerOptions}" />
                <ui:SettingsCard
                    HorizontalContentAlignment="Stretch"
                    Description="{l:Static resx:Resources.DevicePage_TDPControlMethodDesc}"
                    Header="{l:Static resx:Resources.DevicePage_TDPControlMethod}">
                    <ui:SettingsCard.HeaderIcon>
                        <ui:FontIcon Glyph="&#xea86;" />
                    </ui:SettingsCard.HeaderIcon>
                    <ComboBox SelectedIndex="{Binding ConfigurableTDPMethod, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}">
                        <ComboBoxItem>Default</ComboBoxItem>
                        <ComboBoxItem IsEnabled="{Binding HasWMIMethod, Mode=OneWay, UpdateSourceTrigger=PropertyChanged}">WMI</ComboBoxItem>
                    </ComboBox>
                </ui:SettingsCard>

                <!--  Configurable TDP  -->
                <ui:SettingsCard Description="{l:Static resx:Resources.SettingsPage_TDPRangeOverrideDesc}" Header="{l:Static resx:Resources.SettingsPage_TDPRangeOverride}">
                    <ui:SettingsCard.HeaderIcon>
                        <ui:FontIcon Glyph="&#xe785;" />
                    </ui:SettingsCard.HeaderIcon>
                    <ui:ToggleSwitch
                        Name="Toggle_cTDP"
                        Style="{DynamicResource InvertedToggleSwitchStyle}"
                        Toggled="Toggle_cTDP_Toggled" />
                </ui:SettingsCard>

                <!--  Configurable TDP down  -->
                <ui:SettingsCard
                    d:Visibility="Visible"
                    Description="{l:Static resx:Resources.SettingsPage_TDPMinDesc}"
                    Header="{l:Static resx:Resources.SettingsPage_TDPMin}"
                    Visibility="{Binding ElementName=Toggle_cTDP, Path=IsOn, Converter={StaticResource BooleanToVisibilityConverter}}">
                    <ui:SettingsCard.HeaderIcon>
                        <ui:FontIcon Glyph="&#xE713;" />
                    </ui:SettingsCard.HeaderIcon>
                    <ui:NumberBox
                        Name="NumberBox_TDPMin"
                        MinWidth="20"
                        Minimum="3"
                        SpinButtonPlacementMode="Inline"
                        ValueChanged="NumberBox_TDPMin_ValueChanged" />
                </ui:SettingsCard>

                <!--  Configurable TDP up  -->
                <ui:SettingsCard
                    d:Visibility="Visible"
                    Description="{l:Static resx:Resources.SettingsPage_TDPMaxDesc}"
                    Header="{l:Static resx:Resources.SettingsPage_TDPMax}"
                    Visibility="{Binding ElementName=Toggle_cTDP, Path=IsOn, Converter={StaticResource BooleanToVisibilityConverter}}">
                    <ui:SettingsCard.HeaderIcon>
                        <ui:FontIcon Glyph="&#xE713;" />
                    </ui:SettingsCard.HeaderIcon>
                    <ui:NumberBox
                        Name="NumberBox_TDPMax"
                        MinWidth="20"
                        Maximum="75"
                        SpinButtonPlacementMode="Inline"
                        ValueChanged="NumberBox_TDPMax_ValueChanged" />
                </ui:SettingsCard>
            </ikw:SimpleStackPanel>

            <!--  Security options  -->
            <ikw:SimpleStackPanel Name="SecurityOptionsStack" Spacing="4">
                <TextBlock Style="{StaticResource BaseTextBlockStyle}" Text="{l:Static resx:Resources.DevicePage_SecurityOptions}" />

                <!--  Core isolation  -->
                <ui:SettingsCard Description="{l:Static resx:Resources.DevicePage_CoreIsolationDesc}" Header="{l:Static resx:Resources.DevicePage_CoreIsolation}">
                    <ui:SettingsCard.HeaderIcon>
                        <ui:FontIcon Glyph="&#xE705;" />
                    </ui:SettingsCard.HeaderIcon>
                    <ui:ToggleSwitch IsOn="{Binding MemoryIntegrity, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" Style="{DynamicResource InvertedToggleSwitchStyle}" />
                </ui:SettingsCard>
            </ikw:SimpleStackPanel>

            <!--  Platform options  -->
            <ikw:SimpleStackPanel Name="PlatformOptionsStack" Spacing="4">
                <TextBlock Style="{StaticResource BaseTextBlockStyle}" Text="{l:Static resx:Resources.DevicePage_PlatformOptions}" />

                <!--  OEM Frontend  -->
                <ui:SettingsCard Description="{l:Static resx:Resources.DevicePage_ManufacturerApplicationDesc}" Header="{l:Static resx:Resources.DevicePage_ManufacturerApplication}">
                    <ui:SettingsCard.HeaderIcon>
                        <ui:FontIcon Glyph="&#xF156;" />
                    </ui:SettingsCard.HeaderIcon>
                    <ToggleButton IsChecked="{Binding ManufacturerAppStatus, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" IsEnabled="{Binding ManufacturerAppBusy, Mode=OneWay, UpdateSourceTrigger=PropertyChanged}">
                        <ToggleButton.Style>
                            <Style BasedOn="{StaticResource DefaultToggleButtonStyle}" TargetType="ToggleButton">
                                <Setter Property="Content" Value="Restore" />
                                <Style.Triggers>
                                    <DataTrigger Binding="{Binding ManufacturerAppStatus}" Value="True">
                                        <Setter Property="Content" Value="Disable" />
                                    </DataTrigger>
                                </Style.Triggers>
                            </Style>
                        </ToggleButton.Style>
                    </ToggleButton>
                </ui:SettingsCard>
            </ikw:SimpleStackPanel>

            <!--  Battery options  -->
            <ikw:SimpleStackPanel
                Name="BatteryChargeStack"
                d:Visibility="Visible"
                Spacing="4"
                Visibility="{Binding BatteryBypassVisibility, Mode=OneWay, UpdateSourceTrigger=PropertyChanged}">

                <TextBlock Style="{StaticResource BaseTextBlockStyle}" Text="{l:Static resx:Resources.DevicePage_BatteryOptions}" />
                <!--  Battery Charge  -->
                <ui:SettingsCard
                    Name="BatteryChargeLimitToggle"
                    Description="{l:Static resx:Resources.DevicePage_BatteryChargeLimit_Desc}"
                    Header="{l:Static resx:Resources.DevicePage_BatteryChargeLimit}">
                    <ui:SettingsCard.HeaderIcon>
                        <ui:FontIcon Glyph="&#xebb2;" />
                    </ui:SettingsCard.HeaderIcon>
                    <ui:ToggleSwitch
                        Name="Toggle_BatteryChargeLimit"
                        Grid.Column="1"
                        HorizontalAlignment="Right"
                        Style="{DynamicResource InvertedToggleSwitchStyle}"
                        Toggled="Toggle_BatteryChargeLimit_Toggled" />
                </ui:SettingsCard>

                <ui:SettingsCard
                    Name="BatteryChargeLimitPercent"
                    Description="{l:Static resx:Resources.DevicePage_BatteryChargeLimitPercent_Desc}"
                    Header="{l:Static resx:Resources.DevicePage_BatteryChargeLimitPercent}"
                    IsEnabled="{Binding BatteryChargeLimitPercent, Mode=OneWay, UpdateSourceTrigger=PropertyChanged}">
                    <ui:SettingsCard.HeaderIcon>
                        <ui:FontIcon Glyph="&#xE713;" />
                    </ui:SettingsCard.HeaderIcon>
                    <DockPanel ScrollViewer.PanningMode="HorizontalOnly">
                        <Label
                            HorizontalAlignment="Right"
                            VerticalAlignment="Center"
                            Content="{Binding Value, StringFormat={}{0:N0} %, ElementName=Slider_BatteryChargeLimitPercent, Mode=OneWay}" />
                        <Slider
                            x:Name="Slider_BatteryChargeLimitPercent"
                            Width="200"
                            Margin="6,0,0,0"
                            VerticalAlignment="Center"
                            IsMoveToPointEnabled="True"
                            IsSnapToTickEnabled="True"
                            LargeChange="{Binding BatteryBypassStep, Mode=OneWay, UpdateSourceTrigger=PropertyChanged}"
                            Maximum="{Binding BatteryBypassMax, Mode=OneWay, UpdateSourceTrigger=PropertyChanged}"
                            Minimum="{Binding BatteryBypassMin, Mode=OneWay, UpdateSourceTrigger=PropertyChanged}"
                            SmallChange="{Binding BatteryBypassStep, Mode=OneWay, UpdateSourceTrigger=PropertyChanged}"
                            TickFrequency="{Binding BatteryBypassStep, Mode=OneWay, UpdateSourceTrigger=PropertyChanged}"
                            TickPlacement="BottomRight"
                            ToolTip="{Binding Value, StringFormat=N0, RelativeSource={RelativeSource Self}, Mode=OneWay}"
                            ValueChanged="Slider_BatteryChargeLimitPercent_OnValueChanged"
                            Value="100" />
                    </DockPanel>
                </ui:SettingsCard>
                <ui:SettingsCard
                    Name="BatteryBypassCharging"
                    d:Visibility="Visible"
                    Description="{l:Static resx:Resources.DevicePage_BatteryBypassCharging_Desc}"
                    Header="{l:Static resx:Resources.DevicePage_BatteryBypassCharging}"
                    Visibility="{Binding BatteryBypassModeVisibility, Mode=OneWay, UpdateSourceTrigger=PropertyChanged}">
                    <ui:SettingsCard.HeaderIcon>
                        <ui:FontIcon Glyph="&#xE713;" />
                    </ui:SettingsCard.HeaderIcon>
                    <ComboBox
                        Name="CB_BatteryBypassCharging"
                        Grid.Column="1"
                        Margin="12,0,0,0"
                        HorizontalAlignment="Stretch"
                        SelectionChanged="CB_BatteryBypassCharging_OnSelectionChanged">
                        <ComboBox.ItemTemplate>
                            <ItemContainerTemplate>
                                <WrapPanel>
                                    <TextBlock
                                        Height="25"
                                        Margin="10,6,0,0"
                                        Text="{Binding DisplayName}" />
                                </WrapPanel>
                            </ItemContainerTemplate>
                        </ComboBox.ItemTemplate>
                    </ComboBox>
                </ui:SettingsCard>
            </ikw:SimpleStackPanel>

            <!--  Dynamic lighting settings  -->
            <ikw:SimpleStackPanel
                Name="DynamicLightingPanel"
                d:Visibility="Visible"
                Spacing="4"
                Visibility="Collapsed">
                <TextBlock Style="{StaticResource BaseTextBlockStyle}" Text="{l:Static resx:Resources.DevicePage_DynamicLightTitle}" />

                <!--  Use Dynamic lighting  -->
                <ui:SettingsCard Header="{l:Static resx:Resources.DevicePage_DynamicLightDesc}">
                    <ui:SettingsCard.HeaderIcon>
                        <ui:FontIcon Glyph="&#xE781;" />
                    </ui:SettingsCard.HeaderIcon>
                    <ui:ToggleSwitch
                        Name="UseDynamicLightingToggle"
                        Grid.Column="1"
                        HorizontalAlignment="Right"
                        Style="{DynamicResource InvertedToggleSwitchStyle}"
                        Toggled="UseDynamicLightingToggle_Toggled" />
                </ui:SettingsCard>

                <ikw:SimpleStackPanel
                    Name="LEDPanel"
                    IsEnabled="{Binding ElementName=UseDynamicLightingToggle, Path=IsOn}"
                    Spacing="4">
                    <!--  Static LED Brightness  -->
                    <ui:SettingsCard
                        Name="LEDBrightness"
                        Description="{l:Static resx:Resources.DevicePage_DynamicLighting_BrightnessDesc}"
                        Header="{l:Static resx:Resources.DevicePage_DynamicLighting_Brightness}">
                        <ui:SettingsCard.HeaderIcon>
                            <ui:FontIcon Glyph="&#xE706;" />
                        </ui:SettingsCard.HeaderIcon>
                        <DockPanel
                            Grid.Column="1"
                            Margin="12,0,0,0"
                            ScrollViewer.PanningMode="HorizontalOnly">
                            <Label VerticalAlignment="Center" Content="{Binding Value, StringFormat={}{0:N0} %, ElementName=SliderLEDBrightness, Mode=OneWay}" />
                            <Slider
                                x:Name="SliderLEDBrightness"
                                Width="200"
                                Margin="6,0,0,0"
                                VerticalAlignment="Center"
                                IsMoveToPointEnabled="True"
                                IsSnapToTickEnabled="True"
                                LargeChange="10"
                                Maximum="100"
                                Minimum="0"
                                SmallChange="5"
                                TickFrequency="5"
                                TickPlacement="BottomRight"
                                ToolTip="{Binding Value, StringFormat=N0, RelativeSource={RelativeSource Self}, Mode=OneWay}"
                                ValueChanged="SliderLEDBrightness_ValueChanged"
                                Value="100" />
                        </DockPanel>
                    </ui:SettingsCard>

                    <!--  Dynamic lighting effects  -->
                    <ui:SettingsExpander
                        Name="DynamicLightingEffects"
                        Description="{l:Static resx:Resources.DevicePage_DynamicLightingDesc}"
                        Header="{l:Static resx:Resources.DevicePage_DynamicLighting}">
                        <ui:SettingsExpander.HeaderIcon>
                            <ui:FontIcon Glyph="&#xF4A5;" />
                        </ui:SettingsExpander.HeaderIcon>
                        <ComboBox
                            Name="LEDSettingsLevel"
                            Grid.Column="1"
                            Width="220"
                            Margin="12,0,0,0"
                            HorizontalAlignment="Right"
                            VerticalAlignment="Center"
                            SelectionChanged="LEDSettingsLevel_SelectionChanged">

                            <ComboBoxItem
                                Name="LEDSolidColor"
                                Content="{l:Static resx:Resources.DevicePage_DynamicLighting_SolidColor}"
                                IsEnabled="False"
                                Tag="0"
                                Visibility="Collapsed" />
                            <ComboBoxItem
                                Name="LEDBreathing"
                                Content="{l:Static resx:Resources.DevicePage_DynamicLighting_Breathing}"
                                IsEnabled="False"
                                Tag="1"
                                Visibility="Collapsed" />
                            <ComboBoxItem
                                Name="LEDRainbow"
                                Content="{l:Static resx:Resources.DevicePage_DynamicLighting_Rainbow}"
                                IsEnabled="False"
                                Tag="2"
                                Visibility="Collapsed" />
                            <ComboBoxItem
                                Name="LEDWave"
                                Content="{l:Static resx:Resources.DevicePage_DynamicLighting_Wave}"
                                IsEnabled="False"
                                Tag="4"
                                Visibility="Collapsed" />
                            <ComboBoxItem
                                Name="LEDWheel"
                                Content="{l:Static resx:Resources.DevicePage_DynamicLighting_Wheel}"
                                IsEnabled="False"
                                Tag="8"
                                Visibility="Collapsed" />
                            <ComboBoxItem
                                Name="LEDGradient"
                                Content="{l:Static resx:Resources.DevicePage_DynamicLighting_Gradient}"
                                IsEnabled="False"
                                Tag="16"
                                Visibility="Collapsed" />
                            <ComboBoxItem
                                Name="LEDAmbilight"
                                Content="{l:Static resx:Resources.DevicePage_DynamicLighting_Ambilight}"
                                IsEnabled="False"
                                Tag="32"
                                Visibility="Collapsed" />
                            <ComboBoxItem
                                Name="LEDPreset"
                                Content="{l:Static resx:Resources.DevicePage_DynamicLighting_Presets}"
                                IsEnabled="False"
                                Tag="64"
                                Visibility="Collapsed" />
                        </ComboBox>
                        <ui:SettingsExpander.Items>
                            <!--  Effect speed  -->
                            <ui:SettingsCard
                                d:Visibility="Visible"
                                Header="{l:Static resx:Resources.DevicePage_DynamicLighting_EffectSpeed}"
                                Visibility="{Binding ElementName=LEDSettingsLevel, Path=SelectedIndex, Converter={StaticResource IndexToVisibilityConverter}, ConverterParameter=1|2|3|4|5|6}">
                                <DockPanel ScrollViewer.PanningMode="HorizontalOnly">
                                    <Label VerticalAlignment="Center" Content="{Binding Value, StringFormat={}{0:N0} %, ElementName=SliderLEDSpeed, Mode=OneWay}" />
                                    <Slider
                                        x:Name="SliderLEDSpeed"
                                        Width="200"
                                        Margin="6,0,0,0"
                                        VerticalAlignment="Center"
                                        IsMoveToPointEnabled="True"
                                        IsSnapToTickEnabled="True"
                                        LargeChange="10"
                                        Maximum="100"
                                        Minimum="10"
                                        SmallChange="5"
                                        TickFrequency="5"
                                        TickPlacement="BottomRight"
                                        ToolTip="{Binding Value, StringFormat=N0, RelativeSource={RelativeSource Self}, Mode=OneWay}"
                                        ValueChanged="SliderLEDSpeed_ValueChanged"
                                        Value="100" />
                                </DockPanel>
                            </ui:SettingsCard>
                            <!--  Direction  -->
                            <!--  Visibility="{Binding ElementName=LEDSettingsLevel, Path=SelectedIndex, Converter={StaticResource IndexToVisibilityConverter}, ConverterParameter=2|3|4|5}"  -->
                            <ui:SettingsCard
                                d:Visibility="Visible"
                                Header="{l:Static resx:Resources.DevicePage_DynamicLighting_EffectDirection}"
                                Visibility="Collapsed">
                                <DockPanel ScrollViewer.PanningMode="HorizontalOnly">
                                    <Label VerticalAlignment="Center" Content="{Binding Value, StringFormat={}{0:N0} %, ElementName=SliderLEDSpeed, Mode=OneWay}" />
                                    <ComboBox
                                        Name="LEDDirection"
                                        Grid.Column="1"
                                        Margin="12,0,0,0"
                                        HorizontalAlignment="Stretch"
                                        VerticalAlignment="Center"
                                        SelectedIndex="0"
                                        SelectionChanged="LEDDirection_SelectionChanged" />
                                </DockPanel>
                            </ui:SettingsCard>

                            <!--  Main color  -->
                            <!--  Match my Windows accent color  -->
                            <ui:SettingsCard
                                d:Visibility="Visible"
                                Header="{l:Static resx:Resources.DevicePage_DynamicLighting_MatchAccentColor}"
                                Visibility="{Binding ElementName=LEDSettingsLevel, Path=SelectedIndex, Converter={StaticResource IndexToVisibilityConverter}, ConverterParameter=0|1|3|5}">
                                <ui:ToggleSwitch
                                    Name="MatchAccentColor"
                                    Grid.Column="1"
                                    HorizontalAlignment="Right"
                                    Style="{DynamicResource InvertedToggleSwitchStyle}"
                                    Toggled="MatchAccentColor_Toggled" />
                            </ui:SettingsCard>
                            <!--  Main color picker  -->
                            <ui:SettingsCard
                                d:Visibility="Visible"
                                Header="{l:Static resx:Resources.DevicePage_DynamicLighting_MainColorSelection}"
                                Visibility="{Binding ElementName=LEDSettingsLevel, Path=SelectedIndex, Converter={StaticResource IndexToVisibilityConverter}, ConverterParameter=0|1|3|5}">
                                <colorpicker:PortableColorPicker
                                    Name="MainColorPicker"
                                    Width="32"
                                    Height="32"
                                    ColorChanged="MainColorPicker_ColorChanged"
                                    ScrollViewer.PanningMode="HorizontalOnly"
                                    Style="{StaticResource DefaultColorPickerStyle}" />
                            </ui:SettingsCard>
                            <!--  Use second color  -->
                            <ui:SettingsCard
                                Name="SecondColorToggleCard"
                                d:Visibility="Visible"
                                Header="{l:Static resx:Resources.DevicePage_UseSecondColor}"
                                Visibility="{Binding ElementName=LEDSettingsLevel, Path=SelectedIndex, Converter={StaticResource IndexToVisibilityConverter}, ConverterParameter=0|1}">
                                <ui:ToggleSwitch
                                    Name="Toggle_UseSecondColor"
                                    Grid.Column="1"
                                    HorizontalAlignment="Right"
                                    Style="{DynamicResource InvertedToggleSwitchStyle}"
                                    Toggled="Toggle_UseSecondColor_Toggled" />
                            </ui:SettingsCard>
                            <!--  Second color  -->
                            <ui:SettingsCard
                                Name="SecondColorPickerCard"
                                d:Visibility="Visible"
                                Header="{l:Static resx:Resources.DevicePage_DynamicLighting_SecondColorSelection}"
                                IsEnabled="{Binding ElementName=Toggle_UseSecondColor, Path=IsOn}"
                                Visibility="{Binding ElementName=LEDSettingsLevel, Path=SelectedIndex, Converter={StaticResource IndexToVisibilityConverter}, ConverterParameter=0|1}">
                                <colorpicker:PortableColorPicker
                                    Name="SecondColorPicker"
                                    Width="32"
                                    Height="32"
                                    ColorChanged="SecondColorPicker_ColorChanged"
                                    ScrollViewer.PanningMode="HorizontalOnly"
                                    Style="{StaticResource DefaultColorPickerStyle}" />
                            </ui:SettingsCard>
                            <!--  Vertical blackbar detection  -->
                            <ui:SettingsCard
                                d:Visibility="Visible"
                                Header="{l:Static resx:Resources.DevicePage_AmbilightVerticalBlackBarDetectionDesc}"
                                Visibility="{Binding ElementName=LEDSettingsLevel, Path=SelectedIndex, Converter={StaticResource IndexToVisibilityConverter}, ConverterParameter=6}">
                                <ui:ToggleSwitch
                                    Name="Toggle_AmbilightVerticalBlackBarDetection"
                                    Style="{DynamicResource InvertedToggleSwitchStyle}"
                                    Toggled="Toggle_AmbilightVerticalBlackBarDetection_Toggled" />
                            </ui:SettingsCard>
                            <!--  OEM Presets  -->
                            <ui:SettingsCard
                                d:Visibility="Visible"
                                Header="{l:Static resx:Resources.DevicePage_DynamicLighting_PresetsSelection}"
                                Visibility="{Binding ElementName=LEDSettingsLevel, Path=SelectedIndex, Converter={StaticResource IndexToVisibilityConverter}, ConverterParameter=7}">
                                <ComboBox
                                    Name="LedPresetsComboBox"
                                    Grid.Column="1"
                                    Margin="12,0,0,0"
                                    HorizontalAlignment="Stretch"
                                    VerticalAlignment="Center"
                                    SelectionChanged="LEDOEMPreset_SelectionChanged">
                                    <ComboBox.ItemTemplate>
                                        <ItemContainerTemplate>
                                            <WrapPanel>
                                                <Image
                                                    Width="25"
                                                    Height="25"
                                                    Source="{Binding IconPath}" />
                                                <TextBlock
                                                    Height="25"
                                                    Margin="10,6,0,0"
                                                    Text="{Binding DisplayName}" />
                                            </WrapPanel>
                                        </ItemContainerTemplate>
                                    </ComboBox.ItemTemplate>
                                </ComboBox>
                            </ui:SettingsCard>
                        </ui:SettingsExpander.Items>
                    </ui:SettingsExpander>
                </ikw:SimpleStackPanel>
            </ikw:SimpleStackPanel>

            <!--  Sensor options  -->
            <ikw:SimpleStackPanel Name="SensorOptionsStack" Spacing="4">
                <TextBlock Style="{StaticResource BaseTextBlockStyle}" Text="{l:Static resx:Resources.SettingsPage_SensorOptions}" />

                <!--  Sensor Selection  -->
                <ui:SettingsCard
                    Name="SensorSelectionCard"
                    Description="{l:Static resx:Resources.SettingsPage_SensorSelectionDesc}"
                    Header="{l:Static resx:Resources.SettingsPage_SensorSelection}">
                    <ui:SettingsCard.HeaderIcon>
                        <ui:FontIcon Glyph="&#xE950;" />
                    </ui:SettingsCard.HeaderIcon>
                    <ComboBox Name="cB_SensorSelection" SelectionChanged="cB_SensorSelection_SelectionChanged">
                        <ComboBoxItem
                            Name="SensorNone"
                            Content="{l:Static resx:Resources.SettingsPage_SensorNone}"
                            IsEnabled="True" />
                        <ComboBoxItem
                            Name="SensorInternal"
                            Content="{l:Static resx:Resources.SettingsPage_SensorInternal}"
                            IsEnabled="False" />
                        <ComboBoxItem
                            Name="SensorExternal"
                            Content="{l:Static resx:Resources.SettingsPage_SensorExternal}"
                            IsEnabled="False" />
                        <ComboBoxItem
                            Name="SensorController"
                            Content="{l:Static resx:Resources.MainWindow_navController}"
                            IsEnabled="False" />
                    </ComboBox>
                </ui:SettingsCard>

                <!--  Sensor Calibration  -->
                <ui:SettingsCard Description="{l:Static resx:Resources.SettingsPage_SensorCalibrationDesc}" Header="{l:Static resx:Resources.SettingsPage_SensorCalibration}">
                    <ui:SettingsCard.HeaderIcon>
                        <ui:FontIcon Glyph="&#xE950;" />
                    </ui:SettingsCard.HeaderIcon>
                    <Button
                        Name="ui_button_calibrate"
                        Click="ui_button_calibrate_Click"
                        Content="{l:Static resx:Resources.DevicePage_SensorCalibration_Button}"
                        FontSize="14"
                        Style="{DynamicResource AccentButtonStyle}" />
                </ui:SettingsCard>

                <!--  Sensor Placement Direction  -->
                <ui:SettingsCard
                    Name="SensorPlacementVisualisation"
                    Description="{l:Static resx:Resources.SettingsPage_SensorPlacementDirectionDesc}"
                    Header="{l:Static resx:Resources.SettingsPage_SensorPlacementDirection}"
                    Visibility="{Binding ElementName=cB_SensorSelection, Path=SelectedIndex, Converter={StaticResource IndexToVisibilityConverter}, ConverterParameter=2}">
                    <ui:SettingsCard.HeaderIcon>
                        <ui:FontIcon Glyph="&#xE80A;" />
                    </ui:SettingsCard.HeaderIcon>
                    <ikw:SimpleStackPanel
                        Name="Grid_SensorPlacementVisualisation"
                        HorizontalAlignment="Right"
                        IsEnabled="False"
                        Spacing="6">
                        <ikw:SimpleStackPanel Orientation="Horizontal" Spacing="6">
                            <Button
                                Width="50"
                                Height="50"
                                Tag="99"
                                Visibility="Hidden" />
                            <Button
                                Width="50"
                                Height="50"
                                Click="SensorPlacement_Click"
                                Tag="0" />
                            <Button
                                Width="50"
                                Height="50"
                                Tag="99"
                                Visibility="Hidden" />
                        </ikw:SimpleStackPanel>
                        <ikw:SimpleStackPanel Orientation="Horizontal" Spacing="6">
                            <Button
                                Width="50"
                                Height="50"
                                Click="SensorPlacement_Click"
                                Tag="1" />
                            <Button
                                Width="50"
                                Height="50"
                                Tag="99"
                                Visibility="Hidden" />
                            <Button
                                Width="50"
                                Height="50"
                                Click="SensorPlacement_Click"
                                Tag="2" />
                        </ikw:SimpleStackPanel>
                        <ikw:SimpleStackPanel Orientation="Horizontal" Spacing="6">
                            <Button
                                Width="50"
                                Height="50"
                                Tag="99"
                                Visibility="Hidden" />
                            <Button
                                Width="50"
                                Height="50"
                                Click="SensorPlacement_Click"
                                Tag="3" />
                            <Button
                                Width="50"
                                Height="50"
                                Tag="99"
                                Visibility="Hidden" />
                        </ikw:SimpleStackPanel>
                    </ikw:SimpleStackPanel>
                </ui:SettingsCard>
                <!--  Sensor Placement Mirror  -->
                <ui:SettingsCard
                    Name="SensorPlacementUpsideDown"
                    Description="{l:Static resx:Resources.SettingsPage_SensorPlacementUpsideDownDesc}"
                    Header="{l:Static resx:Resources.SettingsPage_SensorPlacementUpsideDown}">
                    <!--  Visibility="{Binding ElementName=cB_SensorSelection, Path=SelectedIndex, Converter={StaticResource IndexToVisibilityConverter}, ConverterParameter=2}"  -->
                    <ui:SettingsCard.HeaderIcon>
                        <ui:FontIcon Glyph="&#xE1CA;" />
                    </ui:SettingsCard.HeaderIcon>
                    <ui:ToggleSwitch
                        Name="Toggle_SensorPlacementUpsideDown"
                        Grid.Column="1"
                        HorizontalAlignment="Right"
                        IsEnabled="False"
                        Style="{DynamicResource InvertedToggleSwitchStyle}"
                        Toggled="Toggle_SensorPlacementUpsideDown_Toggled" />
                </ui:SettingsCard>
            </ikw:SimpleStackPanel>

            <!--  Device settings  -->
            <ikw:SimpleStackPanel
                Name="DeviceSettingsPanel"
                Grid.Row="1"
                d:Visibility="Visible"
                Spacing="6"
                Visibility="Collapsed">
                <TextBlock Style="{StaticResource BaseTextBlockStyle}" Text="{l:Static resx:Resources.DevicePage_DeviceSettings}" />

                <!--  MSI Claw 8  -->
                <ikw:SimpleStackPanel
                    Name="MSIClawPanel"
                    d:Background="Red"
                    d:Visibility="Visible"
                    Spacing="6"
                    Visibility="Collapsed">

                    <ui:SettingsCard Description="Selected the desired controller mode" Header="Controller mode">
                        <ui:SettingsCard.HeaderIcon>
                            <Image
                                emoji:EmojiImage.DrawPadding="False"
                                emoji:EmojiImage.Source="🎮"
                                RenderOptions.BitmapScalingMode="HighQuality" />
                        </ui:SettingsCard.HeaderIcon>

                        <ComboBox SelectedIndex="{Binding ClawControllerIndex, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}">
                            <ComboBoxItem Content="Offline" />
                            <ComboBoxItem Content="XInput" />
                            <ComboBoxItem Content="DirectInput" />
                        </ComboBox>
                    </ui:SettingsCard>

                    <ui:SettingsCard
                        Description="Maximized the combined performance of the processor and GPU"
                        Header="MSI OverBoost"
                        IsEnabled="False">
                        <ui:SettingsCard.HeaderIcon>
                            <Image
                                emoji:EmojiImage.DrawPadding="False"
                                emoji:EmojiImage.Source="🚀"
                                RenderOptions.BitmapScalingMode="HighQuality" />
                        </ui:SettingsCard.HeaderIcon>

                        <ui:ToggleSwitch IsOn="{Binding ClawOverBoost, Mode=TwoWay, UpdateSourceTrigger=PropertyChanged}" />
                    </ui:SettingsCard>
                </ikw:SimpleStackPanel>

                <!--  Lenovo Legion Go  -->
                <ikw:SimpleStackPanel
                    Name="LegionGoPanel"
                    d:Background="Blue"
                    d:Visibility="Visible"
                    Spacing="6"
                    Visibility="Collapsed">

                    <Border
                        Name="TouchpadPassthrough"
                        Padding="15,12,12,12"
                        Background="{DynamicResource ExpanderHeaderBackground}"
                        CornerRadius="{DynamicResource ControlCornerRadius}">

                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="8*" MinWidth="200" />
                                <ColumnDefinition Width="2*" MinWidth="120" />
                            </Grid.ColumnDefinitions>

                            <DockPanel>
                                <ui:FontIcon
                                    Height="40"
                                    HorizontalAlignment="Center"
                                    FontFamily="{DynamicResource SymbolThemeFontFamily}"
                                    Glyph="&#xe772;" />

                                <ikw:SimpleStackPanel Margin="12,0,0,0" VerticalAlignment="Center">
                                    <TextBlock Style="{StaticResource BodyTextBlockStyle}" Text="{l:Static resx:Resources.ControllerPage_LegionGoPassthrough}" />
                                    <TextBlock
                                        Foreground="{DynamicResource SystemControlForegroundBaseMediumBrush}"
                                        Style="{StaticResource CaptionTextBlockStyle}"
                                        Text="{l:Static resx:Resources.ControllerPage_LegionGoPassthroughDesc}"
                                        TextWrapping="Wrap" />
                                </ikw:SimpleStackPanel>
                            </DockPanel>

                            <ui:ToggleSwitch
                                Name="Toggle_TouchpadPassthrough"
                                Grid.Column="1"
                                HorizontalAlignment="Right"
                                Style="{DynamicResource InvertedToggleSwitchStyle}"
                                Toggled="Toggle_TouchpadPassthrough_Toggled" />
                        </Grid>
                    </Border>

                    <Border
                        Name="GyroController"
                        Padding="15,12,12,12"
                        Background="{DynamicResource ExpanderHeaderBackground}"
                        CornerRadius="{DynamicResource ControlCornerRadius}">

                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="5*" MinWidth="200" />
                                <ColumnDefinition Width="5*" MinWidth="200" />
                            </Grid.ColumnDefinitions>

                            <DockPanel>
                                <ui:FontIcon
                                    Height="40"
                                    HorizontalAlignment="Center"
                                    FontFamily="{DynamicResource SymbolThemeFontFamily}"
                                    Glyph="&#xE950;" />

                                <ikw:SimpleStackPanel Margin="12,0,0,0" VerticalAlignment="Center">
                                    <TextBlock Style="{StaticResource BodyTextBlockStyle}" Text="{l:Static resx:Resources.SettingsPage_SensorSelection}" />
                                    <TextBlock
                                        Foreground="{DynamicResource SystemControlForegroundBaseMediumBrush}"
                                        Style="{StaticResource CaptionTextBlockStyle}"
                                        Text="{l:Static resx:Resources.SettingsPage_SensorSelectionDesc}"
                                        TextWrapping="Wrap" />
                                </ikw:SimpleStackPanel>
                            </DockPanel>

                            <ComboBox
                                Name="ComboBox_GyroController"
                                Grid.Column="1"
                                Margin="12,0,0,0"
                                HorizontalAlignment="Stretch"
                                VerticalAlignment="Center"
                                SelectionChanged="ComboBox_GyroController_SelectionChanged">
                                <ComboBoxItem Content="Left controller" />
                                <ComboBoxItem Content="Right controller" />
                            </ComboBox>
                        </Grid>
                    </Border>

                    <Expander HorizontalAlignment="Stretch" Expanded="Expander_Expanded">
                        <Expander.Header>
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="5*" MinWidth="200" />
                                    <ColumnDefinition Width="5*" MinWidth="200" />
                                </Grid.ColumnDefinitions>

                                <DockPanel Margin="0,12,12,12">
                                    <ui:FontIcon
                                        Height="40"
                                        HorizontalAlignment="Center"
                                        FontFamily="{DynamicResource SymbolThemeFontFamily}"
                                        Glyph="&#xE7FC;" />

                                    <ikw:SimpleStackPanel Margin="12,0,0,0" VerticalAlignment="Center">
                                        <TextBlock Style="{StaticResource BodyTextBlockStyle}" Text="{l:Static resx:Resources.DevicePage_Lenovo_ControllerLeft}" />
                                        <TextBlock
                                            Foreground="{DynamicResource SystemControlForegroundBaseMediumBrush}"
                                            Style="{StaticResource CaptionTextBlockStyle}"
                                            Text="{l:Static resx:Resources.DevicePage_Lenovo_ControllerLeftDesc}"
                                            TextWrapping="Wrap" />
                                    </ikw:SimpleStackPanel>
                                </DockPanel>
                            </Grid>
                        </Expander.Header>

                        <Expander.Content>
                            <ikw:SimpleStackPanel Margin="30,-6,0,-6" Spacing="6">

                                <!--  Left Joycon Sleep Time  -->
                                <ikw:SimpleStackPanel d:Visibility="Visible" Spacing="6">

                                    <Grid Height="40">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="5*" MinWidth="200" />
                                            <ColumnDefinition Width="5*" MinWidth="200" />
                                        </Grid.ColumnDefinitions>

                                        <TextBlock
                                            VerticalAlignment="Center"
                                            Style="{StaticResource BodyTextBlockStyle}"
                                            Text="{l:Static resx:Resources.DevicePage_Lenovo_ControllerAutoSleepTime}" />

                                        <DockPanel
                                            Grid.Column="1"
                                            Margin="12,0,0,0"
                                            ScrollViewer.PanningMode="HorizontalOnly">
                                            <TextBox
                                                Height="32"
                                                HorizontalAlignment="Right"
                                                VerticalAlignment="Center"
                                                HorizontalContentAlignment="Center"
                                                IsReadOnly="True"
                                                Text="{Binding Value, StringFormat={}{0:N0} min, ElementName=SliderLeftAutoSleepTime, Mode=OneWay}" />
                                            <Slider
                                                Name="SliderLeftAutoSleepTime"
                                                Margin="6,0,0,0"
                                                VerticalAlignment="Center"
                                                IsMoveToPointEnabled="True"
                                                IsSnapToTickEnabled="True"
                                                LargeChange="5"
                                                Maximum="60"
                                                Minimum="1"
                                                SmallChange="1"
                                                Style="{DynamicResource SliderStyle1}"
                                                ToolTip="{Binding Value, StringFormat=N0, RelativeSource={RelativeSource Self}, Mode=OneWay}"
                                                ValueChanged="SliderLeftAutoSleepTime_ValueChanged" />
                                        </DockPanel>
                                    </Grid>

                                    <!--  Separator  -->
                                    <Separator
                                        Margin="-46,0,-16,0"
                                        BorderBrush="{DynamicResource SystemControlBackgroundChromeMediumBrush}"
                                        BorderThickness="0,1,0,0" />
                                </ikw:SimpleStackPanel>

                                <!--  Left Joystick deadzone  -->
                                <ikw:SimpleStackPanel d:Visibility="Visible" Spacing="6">

                                    <Grid Height="40">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="5*" MinWidth="200" />
                                            <ColumnDefinition Width="5*" MinWidth="200" />
                                        </Grid.ColumnDefinitions>

                                        <TextBlock
                                            VerticalAlignment="Center"
                                            Style="{StaticResource BodyTextBlockStyle}"
                                            Text="{l:Static resx:Resources.DevicePage_Lenovo_ControllerJoystickDeadzone}" />

                                        <DockPanel
                                            Grid.Column="1"
                                            Margin="12,0,0,0"
                                            ScrollViewer.PanningMode="HorizontalOnly">
                                            <TextBox
                                                Height="32"
                                                HorizontalAlignment="Right"
                                                VerticalAlignment="Center"
                                                HorizontalContentAlignment="Center"
                                                IsReadOnly="True"
                                                Text="{Binding Value, StringFormat={}{0:N0} %, ElementName=SliderLeftJoystickDeadzone, Mode=OneWay}" />
                                            <Slider
                                                Name="SliderLeftJoystickDeadzone"
                                                Margin="6,0,0,0"
                                                VerticalAlignment="Center"
                                                IsMoveToPointEnabled="True"
                                                IsSnapToTickEnabled="True"
                                                LargeChange="5"
                                                Maximum="100"
                                                Minimum="1"
                                                SmallChange="1"
                                                Style="{DynamicResource SliderStyle1}"
                                                ToolTip="{Binding Value, StringFormat=N0, RelativeSource={RelativeSource Self}, Mode=OneWay}"
                                                ValueChanged="SliderLeftJoystickDeadzone_ValueChanged" />
                                        </DockPanel>
                                    </Grid>

                                    <!--  Separator  -->
                                    <Separator
                                        Margin="-46,0,-16,0"
                                        BorderBrush="{DynamicResource SystemControlBackgroundChromeMediumBrush}"
                                        BorderThickness="0,1,0,0" />
                                </ikw:SimpleStackPanel>

                                <!--  Left Trigger deadzone  -->
                                <ikw:SimpleStackPanel d:Visibility="Visible" Spacing="6">

                                    <Grid Height="40">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="5*" MinWidth="200" />
                                            <ColumnDefinition Width="5*" MinWidth="200" />
                                        </Grid.ColumnDefinitions>

                                        <TextBlock
                                            VerticalAlignment="Center"
                                            Style="{StaticResource BodyTextBlockStyle}"
                                            Text="{l:Static resx:Resources.DevicePage_Lenovo_ControllerTriggerDeadzone}" />

                                        <DockPanel
                                            Grid.Column="1"
                                            Margin="12,0,0,0"
                                            ScrollViewer.PanningMode="HorizontalOnly">
                                            <TextBox
                                                Height="32"
                                                HorizontalAlignment="Right"
                                                VerticalAlignment="Center"
                                                HorizontalContentAlignment="Center"
                                                IsReadOnly="True"
                                                Text="{Binding Value, StringFormat={}{0:N0} %, ElementName=SliderLeftTriggerDeadzone, Mode=OneWay}" />
                                            <Slider
                                                Name="SliderLeftTriggerDeadzone"
                                                Margin="6,0,0,0"
                                                VerticalAlignment="Center"
                                                IsMoveToPointEnabled="True"
                                                IsSnapToTickEnabled="True"
                                                LargeChange="5"
                                                Maximum="{Binding ElementName=SliderLeftTriggerMargin, Path=Value, Converter={StaticResource InvertPercentageConverter}}"
                                                Minimum="1"
                                                SmallChange="1"
                                                Style="{DynamicResource SliderStyle1}"
                                                ToolTip="{Binding Value, StringFormat=N0, RelativeSource={RelativeSource Self}, Mode=OneWay}"
                                                ValueChanged="SliderLeftTriggerDeadzone_ValueChanged" />
                                        </DockPanel>
                                    </Grid>

                                    <!--  Separator  -->
                                    <Separator
                                        Margin="-46,0,-16,0"
                                        BorderBrush="{DynamicResource SystemControlBackgroundChromeMediumBrush}"
                                        BorderThickness="0,1,0,0" />
                                </ikw:SimpleStackPanel>

                                <!--  Left Trigger margin  -->
                                <ikw:SimpleStackPanel d:Visibility="Visible" Spacing="6">

                                    <Grid Height="40">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="5*" MinWidth="200" />
                                            <ColumnDefinition Width="5*" MinWidth="200" />
                                        </Grid.ColumnDefinitions>

                                        <TextBlock
                                            VerticalAlignment="Center"
                                            Style="{StaticResource BodyTextBlockStyle}"
                                            Text="{l:Static resx:Resources.DevicePage_Lenovo_ControllerTriggerMargin}" />

                                        <DockPanel
                                            Grid.Column="1"
                                            Margin="12,0,0,0"
                                            ScrollViewer.PanningMode="HorizontalOnly">
                                            <TextBox
                                                Height="32"
                                                HorizontalAlignment="Right"
                                                VerticalAlignment="Center"
                                                HorizontalContentAlignment="Center"
                                                IsReadOnly="True"
                                                Text="{Binding Value, StringFormat={}{0:N0} %, ElementName=SliderLeftTriggerMargin, Mode=OneWay}" />
                                            <Slider
                                                Name="SliderLeftTriggerMargin"
                                                Margin="6,0,0,0"
                                                VerticalAlignment="Center"
                                                IsMoveToPointEnabled="True"
                                                IsSnapToTickEnabled="True"
                                                LargeChange="5"
                                                Maximum="{Binding ElementName=SliderLeftTriggerDeadzone, Path=Value, Converter={StaticResource InvertPercentageConverter}}"
                                                Minimum="1"
                                                SmallChange="1"
                                                Style="{DynamicResource SliderStyle1}"
                                                ToolTip="{Binding Value, StringFormat=N0, RelativeSource={RelativeSource Self}, Mode=OneWay}"
                                                ValueChanged="SliderLeftTriggerMargin_ValueChanged" />
                                        </DockPanel>
                                    </Grid>

                                    <!--  Separator  -->
                                    <Separator
                                        Margin="-46,0,-16,0"
                                        BorderBrush="{DynamicResource SystemControlBackgroundChromeMediumBrush}"
                                        BorderThickness="0,1,0,0" />
                                </ikw:SimpleStackPanel>

                            </ikw:SimpleStackPanel>
                        </Expander.Content>
                    </Expander>

                    <!--  Right Joycon  -->

                    <Expander HorizontalAlignment="Stretch" Expanded="Expander_Expanded">
                        <Expander.Header>
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="5*" MinWidth="200" />
                                    <ColumnDefinition Width="5*" MinWidth="200" />
                                </Grid.ColumnDefinitions>

                                <DockPanel Margin="0,12,12,12">
                                    <ui:FontIcon
                                        Height="40"
                                        HorizontalAlignment="Center"
                                        FontFamily="{DynamicResource SymbolThemeFontFamily}"
                                        Glyph="&#xE7FC;" />

                                    <ikw:SimpleStackPanel Margin="12,0,0,0" VerticalAlignment="Center">
                                        <TextBlock Style="{StaticResource BodyTextBlockStyle}" Text="{l:Static resx:Resources.DevicePage_Lenovo_ControllerRight}" />
                                        <TextBlock
                                            Foreground="{DynamicResource SystemControlForegroundBaseMediumBrush}"
                                            Style="{StaticResource CaptionTextBlockStyle}"
                                            Text="{l:Static resx:Resources.DevicePage_Lenovo_ControllerRightDesc}"
                                            TextWrapping="Wrap" />
                                    </ikw:SimpleStackPanel>
                                </DockPanel>
                            </Grid>
                        </Expander.Header>

                        <Expander.Content>
                            <ikw:SimpleStackPanel Margin="30,-6,0,-6" Spacing="6">

                                <!--  Right Joycon Sleep Time  -->
                                <ikw:SimpleStackPanel d:Visibility="Visible" Spacing="6">

                                    <Grid Height="40">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="5*" MinWidth="200" />
                                            <ColumnDefinition Width="5*" MinWidth="200" />
                                        </Grid.ColumnDefinitions>

                                        <TextBlock
                                            VerticalAlignment="Center"
                                            Style="{StaticResource BodyTextBlockStyle}"
                                            Text="{l:Static resx:Resources.DevicePage_Lenovo_ControllerAutoSleepTime}" />

                                        <DockPanel
                                            Grid.Column="1"
                                            Margin="12,0,0,0"
                                            ScrollViewer.PanningMode="HorizontalOnly">
                                            <TextBox
                                                Height="32"
                                                HorizontalAlignment="Right"
                                                VerticalAlignment="Center"
                                                HorizontalContentAlignment="Center"
                                                IsReadOnly="True"
                                                Text="{Binding Value, StringFormat={}{0:N0} min, ElementName=SliderRightAutoSleepTime, Mode=OneWay}" />
                                            <Slider
                                                Name="SliderRightAutoSleepTime"
                                                Margin="6,0,0,0"
                                                VerticalAlignment="Center"
                                                IsMoveToPointEnabled="True"
                                                IsSnapToTickEnabled="True"
                                                LargeChange="5"
                                                Maximum="60"
                                                Minimum="1"
                                                SmallChange="1"
                                                Style="{DynamicResource SliderStyle1}"
                                                ToolTip="{Binding Value, StringFormat=N0, RelativeSource={RelativeSource Self}, Mode=OneWay}"
                                                ValueChanged="SliderRightAutoSleepTime_ValueChanged" />
                                        </DockPanel>
                                    </Grid>

                                    <!--  Separator  -->
                                    <Separator
                                        Margin="-46,0,-16,0"
                                        BorderBrush="{DynamicResource SystemControlBackgroundChromeMediumBrush}"
                                        BorderThickness="0,1,0,0" />
                                </ikw:SimpleStackPanel>

                                <!--  Right Joystick deadzone  -->
                                <ikw:SimpleStackPanel d:Visibility="Visible" Spacing="6">

                                    <Grid Height="40">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="5*" MinWidth="200" />
                                            <ColumnDefinition Width="5*" MinWidth="200" />
                                        </Grid.ColumnDefinitions>

                                        <TextBlock
                                            VerticalAlignment="Center"
                                            Style="{StaticResource BodyTextBlockStyle}"
                                            Text="{l:Static resx:Resources.DevicePage_Lenovo_ControllerJoystickDeadzone}" />

                                        <DockPanel
                                            Grid.Column="1"
                                            Margin="12,0,0,0"
                                            ScrollViewer.PanningMode="HorizontalOnly">
                                            <TextBox
                                                Height="32"
                                                HorizontalAlignment="Right"
                                                VerticalAlignment="Center"
                                                HorizontalContentAlignment="Center"
                                                IsReadOnly="True"
                                                Text="{Binding Value, StringFormat={}{0:N0} %, ElementName=SliderRightJoystickDeadzone, Mode=OneWay}" />
                                            <Slider
                                                Name="SliderRightJoystickDeadzone"
                                                Margin="6,0,0,0"
                                                VerticalAlignment="Center"
                                                IsMoveToPointEnabled="True"
                                                IsSnapToTickEnabled="True"
                                                LargeChange="5"
                                                Maximum="100"
                                                Minimum="1"
                                                SmallChange="1"
                                                Style="{DynamicResource SliderStyle1}"
                                                ToolTip="{Binding Value, StringFormat=N0, RelativeSource={RelativeSource Self}, Mode=OneWay}"
                                                ValueChanged="SliderRightJoystickDeadzone_ValueChanged" />
                                        </DockPanel>
                                    </Grid>

                                    <!--  Separator  -->
                                    <Separator
                                        Margin="-46,0,-16,0"
                                        BorderBrush="{DynamicResource SystemControlBackgroundChromeMediumBrush}"
                                        BorderThickness="0,1,0,0" />
                                </ikw:SimpleStackPanel>

                                <!--  Right Trigger deadzone  -->
                                <ikw:SimpleStackPanel d:Visibility="Visible" Spacing="6">

                                    <Grid Height="40">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="5*" MinWidth="200" />
                                            <ColumnDefinition Width="5*" MinWidth="200" />
                                        </Grid.ColumnDefinitions>

                                        <TextBlock
                                            VerticalAlignment="Center"
                                            Style="{StaticResource BodyTextBlockStyle}"
                                            Text="{l:Static resx:Resources.DevicePage_Lenovo_ControllerTriggerDeadzone}" />

                                        <DockPanel
                                            Grid.Column="1"
                                            Margin="12,0,0,0"
                                            ScrollViewer.PanningMode="HorizontalOnly">
                                            <TextBox
                                                Height="32"
                                                HorizontalAlignment="Right"
                                                VerticalAlignment="Center"
                                                HorizontalContentAlignment="Center"
                                                IsReadOnly="True"
                                                Text="{Binding Value, StringFormat={}{0:N0} %, ElementName=SliderRightTriggerDeadzone, Mode=OneWay}" />
                                            <Slider
                                                Name="SliderRightTriggerDeadzone"
                                                Margin="6,0,0,0"
                                                VerticalAlignment="Center"
                                                IsMoveToPointEnabled="True"
                                                IsSnapToTickEnabled="True"
                                                LargeChange="5"
                                                Maximum="{Binding ElementName=SliderRightTriggerMargin, Path=Value, Converter={StaticResource InvertPercentageConverter}}"
                                                Minimum="1"
                                                SmallChange="1"
                                                Style="{DynamicResource SliderStyle1}"
                                                ToolTip="{Binding Value, StringFormat=N0, RelativeSource={RelativeSource Self}, Mode=OneWay}"
                                                ValueChanged="SliderRightTriggerDeadzone_ValueChanged" />
                                        </DockPanel>
                                    </Grid>

                                    <!--  Separator  -->
                                    <Separator
                                        Margin="-46,0,-16,0"
                                        BorderBrush="{DynamicResource SystemControlBackgroundChromeMediumBrush}"
                                        BorderThickness="0,1,0,0" />
                                </ikw:SimpleStackPanel>

                                <!--  Trigger margin  -->
                                <ikw:SimpleStackPanel d:Visibility="Visible" Spacing="6">

                                    <Grid Height="40">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="5*" MinWidth="200" />
                                            <ColumnDefinition Width="5*" MinWidth="200" />
                                        </Grid.ColumnDefinitions>

                                        <TextBlock
                                            VerticalAlignment="Center"
                                            Style="{StaticResource BodyTextBlockStyle}"
                                            Text="{l:Static resx:Resources.DevicePage_Lenovo_ControllerTriggerMargin}" />

                                        <DockPanel
                                            Grid.Column="1"
                                            Margin="12,0,0,0"
                                            ScrollViewer.PanningMode="HorizontalOnly">
                                            <TextBox
                                                Height="32"
                                                HorizontalAlignment="Right"
                                                VerticalAlignment="Center"
                                                HorizontalContentAlignment="Center"
                                                IsReadOnly="True"
                                                Text="{Binding Value, StringFormat={}{0:N0} %, ElementName=SliderRightTriggerMargin, Mode=OneWay}" />
                                            <Slider
                                                Name="SliderRightTriggerMargin"
                                                Margin="6,0,0,0"
                                                VerticalAlignment="Center"
                                                IsMoveToPointEnabled="True"
                                                IsSnapToTickEnabled="True"
                                                LargeChange="5"
                                                Maximum="{Binding ElementName=SliderRightTriggerDeadzone, Path=Value, Converter={StaticResource InvertPercentageConverter}}"
                                                Minimum="1"
                                                SmallChange="1"
                                                Style="{DynamicResource SliderStyle1}"
                                                ToolTip="{Binding Value, StringFormat=N0, RelativeSource={RelativeSource Self}, Mode=OneWay}"
                                                ValueChanged="SliderRightTriggerMargin_ValueChanged" />
                                        </DockPanel>
                                    </Grid>

                                    <!--  Separator  -->
                                    <Separator
                                        Margin="-46,0,-16,0"
                                        BorderBrush="{DynamicResource SystemControlBackgroundChromeMediumBrush}"
                                        BorderThickness="0,1,0,0" />
                                </ikw:SimpleStackPanel>

                            </ikw:SimpleStackPanel>
                        </Expander.Content>
                    </Expander>
                </ikw:SimpleStackPanel>
            </ikw:SimpleStackPanel>
        </ikw:SimpleStackPanel>
    </Grid>
</Page>